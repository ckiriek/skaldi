# DevLog: 2025-11-12

## 17:51 UTC - Fixed Project Page "Application Error"

### Problem
Persistent "Application error: a server-side exception has occurred" when viewing project page at `/dashboard/projects/[id]`. Error occurred despite multiple attempts to isolate the issue by:
- Commenting out complex components (FetchExternalDataButton, GenerateDocumentButton, FileUpload, etc.)
- Simplifying Documents and Evidence Sources sections
- Adding try-catch blocks and logging

### Root Cause
The issue was with complex UI components causing SSR (Server-Side Rendering) errors in production. Specifically:
- `Alert`, `AlertDescription`, `AlertTitle` components
- `Badge` component with custom variants (`success`, `info`)
- Complex nested component structures
- Possibly lucide-react icons in certain contexts

### Solution
Created a simplified version of the project page with:
- Basic Card components only (no Alert, no Badge)
- Simple text-based status display
- Count-only queries for documents and evidence (using `{ count: 'exact', head: true }`)
- Removed all client-side interactive components temporarily

### Files Modified
- `/app/dashboard/projects/[id]/page.tsx` - Simplified to minimal working version with Cards
- `/plan.md` - Updated status and progress

### Current State
âœ… Page now displays:
- Project title and basic info (Phase, Indication)
- 3 cards: Compound, RLD Brand, Status
- 2 cards: Documents count (0), External Evidence count (0)

### What's Next
1. Gradually add back functionality:
   - Add "Fetch External Data" button (client component)
   - Add Badge components for status
   - Add Alert for empty states
   - Add detailed evidence display
2. Investigate why complex components fail in production but work in development
3. Consider creating wrapper components that are SSR-safe

### Lessons Learned
- Production SSR errors can be different from development
- Vercel suppresses detailed error messages in production for security
- Simplification is sometimes the best debugging strategy
- Always test with minimal working version first, then add complexity incrementally

### Metrics
- **Debugging Time:** ~2 hours
- **Commits:** 15+
- **Approaches Tried:** 5 (try-catch, minimal page, commenting components, removing imports, simplification)
- **Final Solution:** Complete simplification to Card-only components
