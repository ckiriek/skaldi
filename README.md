# ğŸ¥ Asetria Writer - AI-Powered Regulatory Documentation Platform

**Next-generation platform for automated regulatory document generation**

Asetria Writer - AI-Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ° Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ¸ Ñ€ĞµĞ³ÑƒĞ»ÑÑ‚Ğ¾Ñ€Ğ½Ğ¾Ğ¹ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸ Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ multi-agent architecture Ğ¸ template-based generation.

**ĞœĞ¸ÑÑĞ¸Ñ**: Ğ¡Ğ¾ĞºÑ€Ğ°Ñ‚Ğ¸Ñ‚ÑŒ Ñ†Ğ¸ĞºĞ» Ğ¿Ğ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ¸ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² Ñ Ğ½ĞµĞ´ĞµĞ»ÑŒ Ğ´Ğ¾ Ñ‡Ğ°ÑĞ¾Ğ² Ğ¿Ñ€Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğ¸ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ° Ğ¸ regulatory compliance.

## ğŸ‰ Latest Achievement: Backend Complete (Nov 11, 2025)

**Status:** âœ… 85% PILOT READY  
**Progress:** Backend infrastructure 95% complete  
**Timeline:** Ready for integration testing

### Session Highlights:
- âœ… Workflow Orchestration (4 tables, state machine)
- âœ… Versioning System (3 tables, diff tracking)
- âœ… Error Handling (standardized format)
- âœ… Evidence Locker (2 tables, [EV-XX] system)
- âœ… Workflow Executor (6 agents)
- âœ… 16 API Endpoints
- âœ… 3 Core UI Components
- âœ… ~10,000 lines of code total

[ğŸ“Š View System Overview](./docs/SYSTEM_OVERVIEW.md)

## âœ¨ ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸

### ğŸ“„ Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² (AI-powered)
- **Investigator's Brochure (IB)** - ICH E6 (R2) compliant
- **Clinical Trial Protocol** - ICH E6 Section 6
- **Informed Consent Form (ICF)** - FDA 21 CFR Part 50
- **Study Synopsis** - ICH E3 Section 2

### ğŸ¤– Multi-Agent Architecture & Data Sources

**6 Intelligent Agents:**
1. **RegData Agent** âœ… - Multi-source data enrichment (10 min timeout)
2. **Composer Agent** âœ… - Template selection and structure generation (5 min)
3. **Writer Agent** â³ - Content generation and refinement (30 min) - TODO
4. **Validator Agent** âœ… - ICH/FDA compliance checking (5 min)
5. **Assembler Agent** âœ… - Document assembly and TOC (5 min)
6. **Export Agent** âœ… - PDF/DOCX generation (5 min)

**6 Data Sources (All Critical Complete!):**
- âœ… **PubChem** - Chemical structure, InChIKey resolution
- âœ… **openFDA** - FDA labels, FAERS adverse events
- âœ… **Orange Book** - RLD identification, TE codes
- âœ… **DailyMed** - Current FDA labels (daily updates)
- âœ… **ClinicalTrials.gov** - Clinical trial data
- âœ… **PubMed** - Scientific literature, citations

### ğŸ“ Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ°Ğ¼Ğ¸
- Drag & drop Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° (PDF, DOCX, TXT, CSV)
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ°
- AI entity extraction (10 Ñ‚Ğ¸Ğ¿Ğ¾Ğ²)
- Supabase Storage (50MB limit)

### ğŸ“Š Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚
- **DOCX** - Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€ÑƒĞµĞ¼Ñ‹Ğ¹ Microsoft Word
- **PDF** - Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ´Ğ»Ñ Ñ€Ğ°ÑĞ¿Ñ€Ğ¾ÑÑ‚Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ
- One-click download

### ğŸ¨ UI/UX
- Markdown viewer Ñ Table of Contents
- Scroll spy navigation
- Syntax highlighting
- Responsive design

### ğŸ”’ Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ & Compliance
- Row Level Security (RLS)
- Audit trail Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹
- Version control
- ICH/FDA guidelines compliance

## ğŸš€ Tech Stack

- **Frontend**: Next.js 14 (App Router), React, TailwindCSS, shadcn/ui
- **Backend**: Supabase (PostgreSQL, Auth, Storage, Edge Functions)
- **AI**: Azure OpenAI GPT-4
- **APIs**: ClinicalTrials.gov, PubMed, openFDA
- **Export**: docx, html-pdf-node, marked
- **Deployment**: Vercel

## ğŸ“¦ Installation

```bash
# Clone repository
git clone https://github.com/yourusername/asetria.git
cd asetria

# Install dependencies
npm install

# Setup environment variables
cp .env.example .env.local
# Edit .env.local with your credentials

# Run development server
npm run dev
```

## ğŸ”§ Environment Variables

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

# Azure OpenAI
AZURE_OPENAI_ENDPOINT=your_azure_endpoint
AZURE_OPENAI_API_KEY=your_azure_api_key
AZURE_OPENAI_DEPLOYMENT_NAME=your_deployment_name
```

## ğŸš¢ Deployment Ğ½Ğ° Vercel

### 1. ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ°

```bash
# Ğ£Ğ±ĞµĞ´Ğ¸Ñ‚ĞµÑÑŒ Ñ‡Ñ‚Ğ¾ Ğ²ÑĞµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ·Ğ°ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‡ĞµĞ½Ñ‹
git add .
git commit -m "Ready for deployment"
git push origin main
```

### 2. Vercel Setup

1. Ğ—Ğ°Ğ¹Ğ´Ğ¸Ñ‚Ğµ Ğ½Ğ° [vercel.com](https://vercel.com)
2. ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ "New Project"
3. Import Ğ²Ğ°ÑˆĞµĞ³Ğ¾ GitHub Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ
4. Configure project:
   - Framework: Next.js
   - Root Directory: ./
   - Build Command: `npm run build`
   - Output Directory: .next

### 3. Environment Variables

Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ Ğ² Vercel Settings â†’ Environment Variables:

```
NEXT_PUBLIC_SUPABASE_URL
NEXT_PUBLIC_SUPABASE_ANON_KEY
AZURE_OPENAI_ENDPOINT
AZURE_OPENAI_API_KEY
AZURE_OPENAI_DEPLOYMENT_NAME
```

### 4. Deploy

ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ "Deploy" Ğ¸ Ğ´Ğ¾Ğ¶Ğ´Ğ¸Ñ‚ĞµÑÑŒ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ build.

### 5. Supabase Edge Functions

```bash
# Deploy Edge Functions
npx supabase functions deploy generate-document
npx supabase functions deploy extract-entities
```

## ğŸ“– Usage

### Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
1. Dashboard â†’ New Project
2. Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ: Title, Phase, Indication
3. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹Ñ‚Ğµ Study Design

### Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
1. Fetch External Data â†’ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸Ğ· API
2. Upload Files â†’ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹
3. Extract Entities â†’ Ğ¸Ğ·Ğ²Ğ»ĞµÑ‡ÑŒ ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚Ğ¸ AI

### Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²
1. Generate Document â†’ Ğ²Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ñ‚Ğ¸Ğ¿
2. ĞŸĞ¾Ğ´Ğ¾Ğ¶Ğ´Ğ°Ñ‚ÑŒ 10-30 ÑĞµĞºÑƒĞ½Ğ´
3. ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ² Markdown UI
4. Export DOCX/PDF

## ğŸ§ª Testing

```bash
# Run tests
npm test

# Run specific test suite
npx tsx scripts/test-stages.ts
```

## ğŸ“Š Project Structure

```
asetria/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ dashboard/         # Dashboard pages
â”‚   â”œâ”€â”€ api/              # API routes
â”‚   â””â”€â”€ auth/             # Auth pages
â”œâ”€â”€ components/            # React components
â”œâ”€â”€ lib/                   # Utilities
â”‚   â”œâ”€â”€ prompts/          # AI prompts
â”‚   â”œâ”€â”€ integrations/     # External APIs
â”‚   â””â”€â”€ export/           # Export utilities
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ functions/        # Edge Functions
â””â”€â”€ public/               # Static assets
```

## ğŸ¯ MVP Features (Completed)

âœ… AI-powered document generation (4 types)  
âœ… External API integrations (3 sources)  
âœ… File upload & storage  
âœ… Entity extraction  
âœ… DOCX/PDF export  
âœ… Markdown UI with TOC  
âœ… Audit trail  
âœ… Version control  

## ğŸ”„ Roadmap

### Phase 2
- [ ] Advanced entity extraction (NER)
- [ ] Real-time collaboration
- [ ] Template customization
- [ ] Batch operations

### Phase 3
- [ ] Knowledge Graph
- [ ] Terminology validation
- [ ] Multi-language support
- [ ] Mobile app

## ğŸ“ License

Proprietary - All rights reserved

## ğŸ‘¥ Team

Built with â¤ï¸ by Asetria team

## ğŸ“ Support

For questions and support: support@asetria.com
